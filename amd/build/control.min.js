define(["core/ajax"],function(l){return{init:function(){function e(e){e.preventDefault(),console.log("ASK QUESTIOn");var t,n,e=document.getElementById("message-input").value;document.getElementById("message-input").value="",t=e,(o=document.createElement("span")).className="chat-bubble user",o.textContent=t,document.getElementById("messages-container").appendChild(o),console.log(e),(t=document.createElement("div")).className="col-3",t.id="typing-animation",(o=document.createElement("div")).className="snippet",o.setAttribute("data-title","dot-typing"),(c=document.createElement("div")).className="stage",(n=document.createElement("div")).className="dot-typing",c.appendChild(n),o.appendChild(c),t.appendChild(o),n=document.getElementById("messages-container");var a,c=document.getElementById("messages-container"),o=document.querySelector("#typing-animation");c&&o&&(c=c.clientHeight,a=o.offsetHeight,o.style.top=c-a+"px",console.log(c-a+"px")),n.insertAdjacentElement("beforeend",t),l.call([{methodname:"block_cgschatbot_get_answer",args:{question:e},done:function(e){var t,n;console.log(e),(t=document.getElementById("typing-animation"))&&t.remove(),t=e.answer,(e=document.createElement("span")).className="chat-bubble assistant",(n=document.createElement("img")).src=M.util.image_url("icon","block_cgschatbot"),n.className="icon",e.appendChild(n),e.appendChild(document.createTextNode(t)),document.getElementById("messages-container").appendChild(e)},fail:function(e){console.log(e)}}])}console.log("INIT"),document.querySelector(".cgschatbot-ask").addEventListener("click",e)}}});